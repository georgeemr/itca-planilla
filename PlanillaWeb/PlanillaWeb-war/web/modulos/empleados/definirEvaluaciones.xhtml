<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="/plantillas/defaultTemplate.xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.prime.com.tr/ui"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:c="http://java.sun.com/jsp/jstl/core">
    <!-- ======================================================================================================= -->
    <ui:define name="titulo">
        <h:outputText value="Definir evaluaciones"/>        
    </ui:define>
    <!-- ======================================================================================================= -->
    <ui:define name="acciones">
        <p:tab title="Evaluaci&oacute;n">
            <h:panelGrid columns="1" width="100%" border="0" cellpadding="0" cellspacing="0">
                <p:commandLink styleClass="opcionMenu" action="#{empleados$definirEvaluaciones.definirEvaluaciones$action}" update="principalForm:mensajes" onmouseover="this.className='opcionMenu  textonegrita';" onmouseout="this.className='opcionMenu  textonormal';">
                    <p:graphicImage value="/resources/iconos/task-complete.png"/>
                    <h:outputText value="Crear evaluaciones" styleClass="espacioTexto"/>
                </p:commandLink>
            </h:panelGrid>
        </p:tab>
        <p:tab title="Otras acciones">
            <h:panelGrid columns="1">
                <p:commandLink styleClass="opcionMenu textoNormal" ajax="true" action="#{empleados$definirEvaluaciones.inicio$action}" update="principalForm:mensajes" onmouseover="this.className='opcionMenu  textonegrita';" onmouseout="this.className='opcionMenu  textonormal';">
                    <p:graphicImage value="/resources/iconos/application-exit.png"/>
                    <h:outputText value="Cancelar" styleClass="espacioTexto"/>
                </p:commandLink>
            </h:panelGrid>
        </p:tab>
    </ui:define>
    <!-- ======================================================================================================= -->
    <ui:define name="contenido">
        <p:wizard flowListener="#{empleados$definirEvaluaciones.defaultFlowListener}" showNavBar="true" showStepStatus="true" backLabel="Anterior" nextLabel="Siguiente">
            <p:tab id="tab0" title="Evaluaci&oacute;n">
                <table width="100%" cellpadding="0" cellspacing="5" border="0">
                    <tr valign="center">
                        <td width="34%">
                            <h:outputText id="campaniaText" value="CampaÃ±a: #{empleados$definirEvaluaciones.campaniaSeleccionada.nombre}"/>
                        </td>
                        <td width="33%">
                            <h:outputText id="tipoEvaluacionText" value="Tipo de evaluaci&oacute;n: #{empleados$definirEvaluaciones.tipoEvaluacionSeleccionada.nomTipoEvaluacion}"/>
                        </td>
                        <td width="33%">
                            <h:outputText id="plantillaText" value="Plantilla: #{empleados$definirEvaluaciones.plantillaSeleccionada.nombre}"/>
                        </td>
                    </tr>
                    <tr valign="top">
                        <td width="34%">
                            <p:dataList id="campaniasDataList" value="#{empleados$definirEvaluaciones.listaCampanias}" var="campania" paginator="true" rows="5" effectSpeed="fast" paginatorTemplate="{PreviousPageLink} {CurrentPageReport} {NextPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="5,10,25" itemType="none">
                                <p:column>
                                    <p:commandLink update="principalForm:campaniaText" title="Campa&ntilde;a: #{campania.nombre}, num. #{campania.campaniaPK.codCampania} del periodo #{campania.campaniaPK.periodo}" styleClass="textonormal" onmouseover="this.className='textonegrita'" onmouseout="this.className='textonormal'">
                                        <p:graphicImage value="/resources/iconos/task-accepted.png"/>
                                        <h:outputText value="#{campania.nombre}" style="margin-left:5px"/>
                                        <f:setPropertyActionListener value="#{campania}" target="#{empleados$definirEvaluaciones.campaniaSeleccionada}"/>
                                    </p:commandLink>                        
                                </p:column>
                            </p:dataList>
                        </td>
                        <td width="33%">
                            <p:dataList id="tiposEvaluacionesDataList" value="#{empleados$definirEvaluaciones.listaTiposEvaluaciones}" var="tipoEvaluacion" paginator="true" rows="5" effectSpeed="fast" paginatorTemplate="{PreviousPageLink} {CurrentPageReport} {NextPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="5,10,25" itemType="none">
                                <p:column>
                                    <p:commandLink update="principalForm:tipoEvaluacionText, principalForm:plantillasDataList" title="Tipo de evaluaci&oacute;n: #{tipoEvaluacion.nomTipoEvaluacion}" styleClass="textonormal" onmouseover="this.className='textonegrita'" onmouseout="this.className='textonormal'">
                                        <p:graphicImage value="/resources/iconos/task-accepted.png"/> 
                                        <h:outputText value="#{tipoEvaluacion.nomTipoEvaluacion}" style="margin-left:5px"/>
                                        <f:setPropertyActionListener value="#{tipoEvaluacion}" target="#{empleados$definirEvaluaciones.tipoEvaluacionSeleccionada}"/>
                                    </p:commandLink>                        
                                </p:column>
                            </p:dataList>
                        </td>
                        <td width="33%">
                            <p:dataList id="plantillasDataList" value="#{empleados$definirEvaluaciones.listaPlantillas}" var="plantilla" paginator="true" rows="5" effectSpeed="fast" paginatorTemplate="{PreviousPageLink} {CurrentPageReport} {NextPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="5,10,25" itemType="none">
                                <p:column>
                                    <p:commandLink update="principalForm:plantillaText" title="Plantilla: #{plantilla.nombre}" styleClass="textonormal" onmouseover="this.className='textonegrita'" onmouseout="this.className='textonormal'">
                                        <p:graphicImage value="/resources/iconos/task-accepted.png"/> 
                                        <h:outputText value="#{plantilla.nombre}" style="margin-left:5px"/>
                                        <f:setPropertyActionListener value="#{plantilla}" target="#{empleados$definirEvaluaciones.plantillaSeleccionada}"/>
                                    </p:commandLink>                        
                                </p:column>
                            </p:dataList>                        
                        </td>
                    </tr>
                </table>
            </p:tab>
            <p:tab id="tab1" title="Evaluadores">
                <h:panelGrid columns="4" width="100%">
                    <h:outputText value="Campa&ntilde;a"/>
                    <h:outputLabel value="#{empleados$definirEvaluaciones.campaniaSeleccionada.nombre}" style="font-weight: bold"/>
                    <h:outputText value="Tipo de evaluaci&oacute;n"/>
                    <h:outputLabel value="#{empleados$definirEvaluaciones.tipoEvaluacionSeleccionada.nomTipoEvaluacion}" style="font-weight: bold"/>
                    <h:outputText value="Plantilla"/>
                    <h:outputLabel value="#{empleados$definirEvaluaciones.plantillaSeleccionada.nombre}" style="font-weight: bold"/>
                </h:panelGrid>
                <p:spacer height="10"/>
                <p:dataTable value="#{empleados$definirEvaluaciones.listaPuestosEmpleados}" var="puestoEmpleado1" selectionMode="multiple" selection="#{empleados$definirEvaluaciones.puestosEmpleadosEvaluadores}" rows="5" paginator="true" paginatorAlwaysVisible="true" paginatorTemplate="{PreviousPageLink} {CurrentPageReport} {NextPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="5,10,25">
                    <f:facet name="header">
                        <h:outputText value="Empleados evaluadores"/>
                    </f:facet>
                    <p:column headerText="Puesto" filterBy="#{puestoEmpleado1.puesto.nombre}" filterMatchMode="exact" filterOptions="#{empleados$definirEvaluaciones.puestosOptions}">
                        <h:outputText value="#{puestoEmpleado1.puesto.nombre}"/>
                    </p:column>
                    <p:column headerText="Empleado" filterBy="#{puestoEmpleado1.empleado.nombreCompleto}" filterMatchMode="contains">
                        <h:outputText value="#{puestoEmpleado1.empleado.nombreCompleto}"/>
                    </p:column>
                </p:dataTable>
            </p:tab>
            <p:tab id="tab2" title="Evaluados">
                <h:panelGrid columns="4" width="100%">
                    <h:outputText value="Campa&ntilde;a"/>
                    <h:outputLabel value="#{empleados$definirEvaluaciones.campaniaSeleccionada.nombre}" style="font-weight: bold"/>
                    <h:outputText value="Tipo de evaluaci&oacute;n"/>
                    <h:outputLabel value="#{empleados$definirEvaluaciones.tipoEvaluacionSeleccionada.nomTipoEvaluacion}" style="font-weight: bold"/>
                    <h:outputText value="Plantilla"/>
                    <h:outputLabel value="#{empleados$definirEvaluaciones.plantillaSeleccionada.nombre}" style="font-weight: bold"/>
                </h:panelGrid>
                <p:spacer height="10"/>
                <p:dataTable value="#{empleados$definirEvaluaciones.listaPuestosEmpleados}" var="puestoEmpleado2" selectionMode="multiple" selection="#{empleados$definirEvaluaciones.puestosEmpleadosEvaluados}" rows="5" paginator="true" paginatorAlwaysVisible="true" paginatorTemplate="{PreviousPageLink} {CurrentPageReport} {NextPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="5,10,25">
                    <f:facet name="header">
                        <h:outputText value="Empleados evaluados"/>
                    </f:facet>
                    <p:column headerText="Puesto" filterBy="#{puestoEmpleado2.puesto.nombre}" filterMatchMode="exact" filterOptions="#{empleados$definirEvaluaciones.puestosOptions}">
                        <h:outputText value="#{puestoEmpleado2.puesto.nombre}"/>
                    </p:column>
                    <p:column headerText="Empleado" filterBy="#{puestoEmpleado2.empleado.nombreCompleto}" filterMatchMode="contains">
                        <h:outputText value="#{puestoEmpleado2.empleado.nombreCompleto}"/>
                    </p:column>
                </p:dataTable>
            </p:tab>
        </p:wizard>
    </ui:define>
    <!-- ======================================================================================================= -->
    <ui:define name="dialogos"/>
    <!-- ======================================================================================================= -->
</ui:composition>
<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="/plantillas/defaultTemplate.xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.prime.com.tr/ui"
                xmlns:f="http://java.sun.com/jsf/core">
    <ui:define name="titulo">
        <h:outputText value="Seleccion de evaluaci&oacute;n"/>        
    </ui:define>
    <ui:define name="acciones">
        <p:tab title="Evaluaci&oacute;n">
            <h:panelGrid columns="1">
                <p:commandLink styleClass="opcionMenu" action="#{empleados$seleccionEvaluacion.evaluarEmpleado$action}">
                    <p:graphicImage value="/resources/iconos/user-group-new.png"/>
                    <h:outputText value="Evaluar empleado" styleClass="espacioTexto"/>
                </p:commandLink>
            </h:panelGrid>
        </p:tab>  
        <p:tab title="Otras acciones">
            <h:panelGrid columns="1">
                <p:commandLink styleClass="opcionMenu" ajax="true" action="#{empleados$seleccionEvaluacion.inicio$action}">
                    <p:graphicImage value="/resources/iconos/application-exit.png"/>
                    <h:outputText value="Cancelar" styleClass="espacioTexto"/>
                </p:commandLink>
            </h:panelGrid>
        </p:tab>
    </ui:define>
    <ui:define name="contenido">        
        <p:fieldset legend="Evaluaci&oacute;n">
                <h:panelGrid columns="2">
                    <h:outputText value="Campaña"/>
                    <h:selectOneMenu style="width: 350px;">
                        <f:selectItems value="#{empleados$seleccionEvaluacion.listaCampanias}" var="campania" itemValue="#{campania.campaniaPK.codCampania}" itemLabel="#{campania.nombre}" />
                    </h:selectOneMenu>
                    <h:outputText value="Tipo de evaluación"/>
                    <h:selectOneMenu style="width: 350px;">
                        <f:selectItems value="#{empleados$seleccionEvaluacion.listaTiposEvaluacion}" var="tipoEvaluacion" itemValue="#{tipoEvaluacion.tipoEvaluacionPK.codTipoEvaluacion}" itemLabel="#{tipoEvaluacion.nomTipoEvaluacion}" />
                    </h:selectOneMenu>
                    <h:outputText value="Plantilla"/>
                    <h:selectOneMenu style="width: 350px;">
                        <f:selectItems value="#{empleados$seleccionEvaluacion.listaPlantillas}" var="plantilla" itemValue="#{plantilla.plantillaPK.codPlantilla}" itemLabel="#{plantilla.nombre}"/>
                    </h:selectOneMenu>
                </h:panelGrid>
                <p:separator/>
                <p:commandButton value="Mostrar empleados" image="mostrarEmpleados" action="#{empleados$seleccionEvaluacion.mostrarEmpleados()}" update="tablaEmpleados"/>
            </p:fieldset>
            <p:spacer height="5"/>
            <p:dataTable id="tablaEmpleados" value="#{empleados$seleccionEvaluacion.listaEmpleados}" var="empleado" selectionMode="single" rows="5" paginator="true" paginatorAlwaysVisible="true" update="seleccionEvaluacionForm:tablaEmpleados" paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="5,10,25,50,100">  
                <f:facet name="header">
                    <h:outputText value="Empleados"/>
                </f:facet>
                <p:column headerText="ID" filterBy="#{empleado.empleadoPK.codEmp}" sortBy="#{empleado.empleadoPK.codEmp}">
                    <h:outputText value="#{empleado.empleadoPK.codEmp}"/>
                </p:column>
                <p:column headerText="Nombre" filterBy="#{empleado.nombres} #{empleado.apellidos}" sortBy="#{empleado.nombres} #{empleado.apellidos}" filterMatchMode="contains">
                    <h:outputText value="#{empleado.nombres} #{empleado.apellidos}"/>
                </p:column>
            </p:dataTable>
    </ui:define>
</ui:composition>
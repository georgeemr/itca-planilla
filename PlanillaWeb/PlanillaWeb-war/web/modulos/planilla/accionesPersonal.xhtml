<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="/plantillas/defaultTemplate.xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.prime.com.tr/ui"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:i="http://java.sun.com/jsf/composite/components/presentacion"
                xmlns:ap="http://java.sun.com/jsf/composite/components/accionPersonal" 
                xmlns:d="http://java.sun.com/jsf/composite/components/dialogo" >

    <ui:define name="titulo">
        <h:outputText value="Acciones de personal"/>
    </ui:define>

    <ui:define name="acciones">
        <p:tab id="tabAcciones" title="Acciones">
            <h:panelGrid columns="1">
                <p:commandLink styleClass="opcionMenu textoNormal" update="principalForm:mensajes, principalForm:lstTipos" 
                               onmouseover="this.className='opcionMenu  textonegrita';" onmouseout="this.className='opcionMenu  textonormal';" 
                               oncomplete="#{planilla$accionesPersonal.urlPlantilla}.show();" >
                    <p:graphicImage value="/resources/iconos/new.png"/>
                    <h:outputText value="Nuevo" styleClass="espacioTexto"/>
                </p:commandLink>
                <p:commandLink id="editarSolicitud" update="principalForm:mensajes" styleClass="opcionMenu textoNormal" ajax="true" onmouseover="this.className='opcionMenu  textonegrita';" onmouseout="this.className='opcionMenu  textonormal';" action="#{planilla$accionesPersonal.navigateEditAction}" >
                    <p:graphicImage value="/resources/iconos/document-edit.png"/>
                    <h:outputText value="Editar Solicitud" styleClass="espacioTexto"/>
                </p:commandLink>
                <p:commandLink id="aprobarSolicitud" update="principalForm:mensajes" rendered="#{((request.isUserInRole('jefes') and planilla$accionesPersonal.solicitudesMostradas eq 'E' )or request.isUserInRole('rrhh'))}" action="#{planilla$accionesPersonal.navigateAprobarAction}" styleClass="opcionMenu textoNormal" ajax="true" 
                               onmouseover="this.className='opcionMenu textonegrita';" onmouseout="this.className='opcionMenu textonormal';">
                    <p:graphicImage value="/resources/iconos/dialog-ok-apply.png"/>
                    <h:outputText value="Aprobar Solicitud" styleClass="espacioTexto"/>
                </p:commandLink>
                <p:commandLink styleClass="opcionMenu textoNormal" ajax="true" action="calendario?faces-redirect=true" onmouseover="this.className='opcionMenu  textonegrita';" onmouseout="this.className='opcionMenu  textonormal';">
                    <p:graphicImage value="/resources/iconos/view-resource-calendar.png"/>
                    <h:outputText value="Ver calendario" styleClass="espacioTexto"/>
                </p:commandLink>
                <p:commandLink id="btnReporte" styleClass="opcionMenu textoNormal" update="principalForm:mensajes" ajax="false" rendered="#{planilla$accionesPersonal.renderReportePagos}" action="#{planilla$accionesPersonal.imprimirConstancia}" onmouseover="this.className='opcionMenu  textonegrita';" onmouseout="this.className='opcionMenu  textonormal';">
                    <p:graphicImage value="/resources/iconos/document-pdf.png"/>
                    <h:outputText value="Imprimir Comprobante" styleClass="espacioTexto"/>
                </p:commandLink>
            </h:panelGrid>
        </p:tab>

        <p:tab title="Otras acciones">
            <h:panelGrid columns="1">
                <p:commandLink styleClass="opcionMenu textoNormal" ajax="true" action="#{planilla$accionesPersonal.inicio$action}" update="principalForm:mensajes" onmouseover="this.className='opcionMenu  textonegrita';" onmouseout="this.className='opcionMenu  textonormal';">
                    <p:graphicImage value="/resources/iconos/application-exit.png"/>
                    <h:outputText value="Cancelar" styleClass="espacioTexto"/>
                </p:commandLink>
            </h:panelGrid>
        </p:tab>
    </ui:define>

    <ui:define name="contenido">
        <p:fieldset id="fieldset1" style="border:none;" >
            <p:spacer height="5" />
            
            <table width="100%" >
                <tr>
                    <td>
                        <h:panelGrid columns="2">
                            <h:outputLabel value="Acci&oacute;n de Personal" style="font-weight: bold;" />
                            <h:selectOneMenu id="lstAcc" style="height: 25px;padding-top: 3px; width: 250px;" value="#{SessionBeanEMP.tipo}">
                                <f:selectItem  itemValue="-1" itemLabel="[ SELECCIONE UN TIPO DE ACCI&Oacute;N ]" />
                                <f:selectItems value="#{planilla$accionesPersonal.listaTipo}" var="tipoAcc" itemValue="#{tipoAcc.tipoAccionPK.codTipoaccion}" itemLabel="#{tipoAcc.nomTipoaccion}"/>
                                <f:ajax event="change" execute="lstAcc" render="@form" listener="#{planilla$accionesPersonal.seleccionarAccion}" />
                            </h:selectOneMenu>
                            <h:outputLabel value="Solicitudes a mostrar" rendered="#{request.isUserInRole('rrhh') or request.isUserInRole('jefes')}" style="font-weight: bold;" />
                            <h:selectOneRadio id="chkSolicitudes" rendered="#{request.isUserInRole('rrhh') or request.isUserInRole('jefes')}" value="#{planilla$accionesPersonal.solicitudesMostradas}" >
                                <f:selectItem itemValue="E" itemLabel="Solicitudes de Empleados" />
                                <f:selectItem itemValue="R" itemLabel="Solicitudes #{request.isUserInRole('rrhh') ? 'de Recursos Humanos' : 'de Jefes'  }" />
                                <f:ajax event="change" render="principalForm:tableSolicitud principalForm:mensajes" execute="chkSolicitudes" listener="#{planilla$accionesPersonal.listarSolicitudes}" />
                            </h:selectOneRadio>
                        </h:panelGrid>
                    </td>
                    <td align="right" >
                        <h:panelGrid columns="6" >
                            <p:spacer width="15" style="background-color:#93BBD1;" />
                            <h:outputLabel value="Solicitud Generada" style="font-weight: bold;" />
                            <p:spacer width="15" style="background-color:#9CD128;" />
                            <h:outputLabel value="Solicitud Aprobada" style="font-weight: bold;" />
                            <p:spacer width="15" style="background-color:#D12525;" />
                            <h:outputLabel value="Solicitud Rechazada" style="font-weight: bold;" />
                        </h:panelGrid>
                    </td>
                </tr>
            </table>
        </p:fieldset>
        <p:spacer height="10px"/>

        <p:dataTable id="tableSolicitud" rows="5" paginator="true" paginatorAlwaysVisible="true"
                     emptyMessage="No hay Solicitudes pendientes para aprobar" var="sol" 
                     value="#{planilla$accionesPersonal.listaSolicitudes}"
                     rowStyleClass="#{(sol.status eq 'G' and SessionBeanPLA.accionSeleccionada ne sol)? 'solicitudGenerada' : (sol.status eq 'J' and SessionBeanPLA.accionSeleccionada ne sol )? 'solicitudPreAprobada' : (sol.status eq 'A' and SessionBeanPLA.accionSeleccionada ne sol ) ? 'solicitudAprobada' : (sol.status eq 'R' and SessionBeanPLA.accionSeleccionada ne sol )? 'solicitudRechazada' : 'accionSeleccionada' }"
                     paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="5,10,25,50,100">
            <f:facet name="header">
                Acciones de personal
            </f:facet>

            <p:column headerText="C&oacute;digo" style="width: 5%;">
                <h:outputText value="#{sol.accionPersonalPK.correlativo}"/>
            </p:column>

            <p:column headerText="Nombre:" filterBy="#{sol.empleados.nombreCompleto}" >
                <h:outputText value="#{sol.empleados.nombreCompleto}" title="#{sol.empleados.nombreCompleto}"/>
            </p:column>

            <p:column headerText="Acci&oacute;n: " filterBy="#{sol.tipoAccion.nomTipoaccion}" >
                <h:outputText value="#{sol.tipoAccion.nomTipoaccion}" title="#{sol.tipoAccion.nomTipoaccion}"/>
            </p:column>

            <p:column headerText="Estado " style="width: 8%;" filterBy="#{sol.status}" filterOptions="#{planilla$accionesPersonal.estados}" filterMatchMode="exact" >
                <h:outputText value="#{sol.accEstado}"/>
            </p:column>

            <p:column headerText="Ap. Jefe" style="width: 5%;" >
                <p:graphicImage value="/resources/iconos/dialog-ok-apply.png" rendered="#{sol.aprobadoJefe eq 'A'}" />
                <p:graphicImage value="/resources/iconos/edit-delete.png" rendered="#{sol.aprobadoJefe eq 'R'}" />
            </p:column>

            <p:column headerText="Ap. RH" style="width: 5%;" >
                <p:graphicImage value="/resources/iconos/dialog-ok-apply.png" rendered="#{sol.aprobadoRh eq 'A'}" />
                <p:graphicImage value="/resources/iconos/edit-delete.png" rendered="#{sol.aprobadoRh eq 'R'}" />
            </p:column>

            <p:column headerText="Fecha" filterBy="#{sol.fecha}" filterMatchMode="contains" >
                <h:outputText value="#{sol.fecha}" >
                    <f:convertDateTime pattern="dd/MM/yyyy" />
                </h:outputText>
            </p:column>
            
            <p:column headerText="Seleccionar" style="width: 8%;">
                <p:commandButton  id="cmdSeleccionar" update="principalForm:tabAcciones, principalForm:editarSolicitud, principalForm:panelAcciones,principalForm:btnReporte,principalForm:tableSolicitud" image="ui-icon-circle-check" title="Seleccionar Concurso"  >
                    <f:setPropertyActionListener value="#{sol}" target="#{SessionBeanPLA.accionSeleccionada}" /> 
                </p:commandButton>
            </p:column>

        </p:dataTable> 

    </ui:define>

    <ui:define name="dialogos">
        <d:dialogoEmpleados name="dlgEmpSolPermisos"
                            title="Listado general de Empleados" selection="#{SessionBeanEMP.empleadoAccionPersonal}"
                            update="principalForm:mensajes,principalForm:fieldsetEncabezado" image="/resources/imagenes/64/meeting-participant.png"
                            information="Seleccione un empleado para la solicitud"
                            okAction="#{planilla$accionesPersonal.seleccionarEmpleado}"
                            cancelAction="#{planilla$accionesPersonal.cancelSeleccionarEmpleado}"/>        

        <p:dialog id="dialogSolicitudPermiso" widgetVar="dialogSolicitudPermiso" header="#{planilla$accionesPersonal.accionSeleccionada != null ? planilla$accionesPersonal.accionSeleccionada.nomTipoaccion : 'Ninguna Acción Seleccionada'}" showEffect="fold" hideEffect="fold" width="745" height="550" >
            <p:spacer height="10px"/>
            <i:panelInformacion imagen="../../resources/imagenes/64/info.png" />
            <p:spacer height="10px"/>
            <p:fieldset id="fieldsetEncabezado">
                <ap:encabezadoSolicitud dialogoEmpleados="dlgEmpSolPermisos" />
                <table border="0" width="100%" >
                    <tr>
                        <td width="20%;" ><h:outputLabel value="Observaci&oacute;n" style="font-weight: bold;" /></td>
                        <td colspan="3" ><p:inputTextarea id="txtobservacionesSP" style="width:100%;" value="#{solicitudPermiso.observacion}" autoResize="false" /></td>
                    </tr>
                </table>
            </p:fieldset>

            <p:spacer height="10px"/>
            
            <p:fieldset id="fldPermisos" >

                <table border="0" width="100%" >
                    <tr>
                        <td width="20%" ><i:etiquetaRequerido value="Fecha inicio" styleClass="requerido" /></td>
                        <td><p:calendar id="spFecInicial" showOn="button" pattern="dd/MM/yyyy" value="#{solicitudPermiso.fechaInicial}" selectListener="#{solicitudPermiso.handleFechaInicial}" onSelectUpdate="txtDias" /></td>
                        <td colspan="3" ></td>
                    </tr>
                    <tr>
                        <td><i:etiquetaRequerido value="Fecha fin" styleClass="requerido" /></td>
                        <td><p:calendar id="spFecFinal" showOn="button" pattern="dd/MM/yyyy" value="#{solicitudPermiso.fechaFinal}" selectListener="#{solicitudPermiso.handleFechaFinal}" onSelectUpdate="txtDias"/></td>
                        <td colspan="3" ></td>
                    </tr>
                    <tr>
                        <td><h:outputLabel value="Dias"  /></td>
                        <td><p:inputText id="txtDias"  value="#{solicitudPermiso.dias}" style="width: 25px;" /></td>
                        <td></td>
                        <td><h:outputLabel value="Horas" /></td>
                        <td><p:inputText id="txtHoras"  value="#{solicitudPermiso.horas}" style="width: 25px;" /></td>
                    </tr>
                </table>

            </p:fieldset>
            <p:spacer height="15" />
            <ap:okCancelAccionPersonal okAction="#{solicitudPermiso.guardarSolicitud$action}" update="principalForm:mensajes,principalForm:tableSolicitud,principalForm:fldPermisos,principalForm:txtobservacionesSP" cancelAction="#{planilla$accionesPersonal.cancelar$action}" onCancelClose="#{planilla$accionesPersonal.urlPlantilla}" />
        </p:dialog>

        <d:dialogoEmpleados name="dlgEmpSolVacaciones"
                            title="Listado general de Empleados" selection="#{SessionBeanEMP.empleadoAccionPersonal}"
                            update="principalForm:mensajes,principalForm:fieldsetEncabezadoVac" image="/resources/imagenes/64/meeting-participant.png"
                            information="Seleccione un empleado para la solicitud"
                            okAction="#{planilla$accionesPersonal.seleccionarEmpleado}"
                            cancelAction="#{planilla$accionesPersonal.cancelSeleccionarEmpleado}"/>    

        <p:dialog id="dialogSolicitudVacaciones" widgetVar="dialogSolicitudVacaciones" header="#{planilla$accionesPersonal.accionSeleccionada != null ? planilla$accionesPersonal.accionSeleccionada.nomTipoaccion : 'Ninguna Acción Seleccionada'}" showEffect="fold" hideEffect="fold" width="770" height="575" >
            <p:spacer height="10px"/>
            <i:panelInformacion imagen="../../resources/imagenes/64/info.png" />
            <p:spacer height="10px"/>

            <p:fieldset id="fieldsetEncabezadoVac">
                <ap:encabezadoSolicitud dialogoEmpleados="dlgEmpSolVacaciones" />
                <table border="0" width="100%" >
                    <tr>
                        <td width="20%" ><h:outputLabel value="Observaci&oacute;n" style="font-weight: bold;" /></td>
                        <td><p:inputTextarea id="txtobservacionesVac" style="width:100%;" value="#{solicitudVacacionesAnuales.observacion}" autoResize="false" /></td>
                    </tr>
                </table>
            </p:fieldset>

            <p:spacer height="10px"/>

            <p:fieldset id="fldVacaciones" >

                <table border="0" width="100%" >
                    <tr>
                        <td colspan="5" >
                            <h:outputLabel value="Periodo de Vacaci&oacute;n a pagar" style="font-weight: bold;" />
                        </td>
                    </tr>
                    <tr>
                        <td><i:etiquetaRequerido value="Fecha inicial" styleClass="requerido" /></td>
                        <td><p:calendar id="vacFecInicialPagar" showOn="button" pattern="dd/MM/yyyy" value="#{solicitudVacacionesAnuales.fechaInicialPeriodoPagar}" />
                        </td>
                        <td></td>
                        <td><i:etiquetaRequerido value="Fecha final" styleClass="requerido" /></td>
                        <td><p:calendar id="vacFecFinalPagar" showOn="button" pattern="dd/MM/yyyy" value="#{solicitudVacacionesAnuales.fechaFinalPeriodoPagar}" />
                        </td>
                    </tr>
                    <tr><td colspan="5" ><p:spacer height="10" /></td></tr>
                    <tr>
                        <td colspan="5" >
                            <h:outputLabel value="Periodo de Vacaci&oacute;n a Gozar" style="font-weight: bold;" />
                        </td>
                    </tr>
                    <tr>
                        <td><i:etiquetaRequerido value="Fecha inicial" styleClass="requerido" /></td>
                        <td><p:calendar id="vacFecInicialGozar" showOn="button" pattern="dd/MM/yyyy" value="#{solicitudVacacionesAnuales.fechaInicialPeriodoGozar}" />
                        </td>
                        <td></td>
                        <td><i:etiquetaRequerido value="Fecha final" styleClass="requerido" /></td>
                        <td><p:calendar id="vacFecFinalGozar" showOn="button" pattern="dd/MM/yyyy" value="#{solicitudVacacionesAnuales.fechaFinalPeriodoGozar}" />
                        </td>
                    </tr>
                    <tr>
                        <td>Devengadas</td>
                        <td colspan="4" >
                            <h:selectOneMenu id="lstDevengadoVac" style="height: 25px;padding-top: 3px;" label="Planilla" value="#{solicitudVacacionesAnuales.devengadas}" >
                                <f:selectItem itemValue="S" itemLabel="SI" />
                                <f:selectItem itemValue="N" itemLabel="NO" />
                            </h:selectOneMenu>
                        </td>
                    </tr>
                </table>

            </p:fieldset>
            <p:spacer height="15" />
            <ap:okCancelAccionPersonal okAction="#{solicitudVacacionesAnuales.guardarSolicitud$action}" update="principalForm:mensajes,principalForm:tableSolicitud,principalForm:fldVacaciones,principalForm:txtobservacionesVac" cancelAction="#{planilla$accionesPersonal.cancelar$action}" onCancelClose="#{planilla$accionesPersonal.urlPlantilla}" />

        </p:dialog>

        <d:dialogoEmpleados name="dlgEmpSolIncapacidad"
                            title="Listado general de Empleados" selection="#{SessionBeanEMP.empleadoAccionPersonal}"
                            update="principalForm:mensajes,principalForm:fieldsetEncabezadoInc" image="/resources/imagenes/64/meeting-participant.png"
                            information="Seleccione un empleado para la solicitud"
                            okAction="#{planilla$accionesPersonal.seleccionarEmpleado}"
                            cancelAction="#{planilla$accionesPersonal.cancelSeleccionarEmpleado}"/> 
        <p:dialog id="dialogSolicitudIncapacidad" widgetVar="dialogSolicitudIncapacidad" header="#{planilla$accionesPersonal.accionSeleccionada != null ? planilla$accionesPersonal.accionSeleccionada.nomTipoaccion : 'Ninguna Acción Seleccionada'}" showEffect="fold" hideEffect="fold" width="770" height="550" >
            <p:spacer height="10px"/>
            <i:panelInformacion imagen="../../resources/imagenes/64/info.png" />
            <p:spacer height="10px"/>

            <p:fieldset id="fieldsetEncabezadoInc">
                <ap:encabezadoSolicitud dialogoEmpleados="dlgEmpSolIncapacidad" />
                <table border="0" width="100%" >
                    <tr>
                        <td width="20%" ><h:outputLabel value="Observaci&oacute;n" style="font-weight: bold;" /></td>
                        <td colspan="3"><p:inputTextarea id="txtobservacionesInc" style="width:100%;" autoResize="false" value="#{solicitudIncapacidad.observacion}" /></td>
                    </tr>
                </table>
            </p:fieldset>

            <p:spacer height="10px"/>

            <p:fieldset id="fldIncapacidad" >

                <table border="0" width="100%" >
                    <tr>
                        <td colspan="5" >
                            <h:outputLabel value="Planilla" style="font-weight: bold;" />
                        </td>
                    </tr>
                    <tr>
                        <td><i:etiquetaRequerido value="Fecha Planilla" styleClass="requerido" /></td>
                        <td><p:calendar id="incFecPlanilla" showOn="button" pattern="dd/MM/yyyy" value="#{solicitudIncapacidad.fechaPlanilla}" />
                        </td>
                        <td></td>
                        <td><i:etiquetaRequerido value="Fecha real planilla" styleClass="requerido" /></td>
                        <td><p:calendar id="incFecRealPlanilla" showOn="button" pattern="dd/MM/yyyy" value="#{solicitudIncapacidad.fechaRealPlanilla}" />
                        </td>
                    </tr>
                    <tr><td colspan="5" ><p:spacer height="10" /></td></tr>

                    <tr>
                        <td><i:etiquetaRequerido value="Fecha Inicio Inc." styleClass="requerido" /></td>
                        <td><p:calendar id="incFecInicio" showOn="button" pattern="dd/MM/yyyy" value="#{solicitudIncapacidad.fechaInicial}" selectListener="#{solicitudIncapacidad.handleFechaInicial}" onSelectUpdate="txDiasInc" />
                        </td>
                        <td></td>
                        <td><i:etiquetaRequerido value="Fecha Fin Inc." styleClass="requerido" /></td>
                        <td><p:calendar id="incFecFin" showOn="button" pattern="dd/MM/yyyy" value="#{solicitudIncapacidad.fechaFinal}" selectListener="#{solicitudIncapacidad.handleFechaFinal}" onSelectUpdate="txDiasInc" />
                        </td>
                    </tr>

                    <tr>
                        <td><h:outputLabel value="Dias"/></td>
                        <td>
                            <h:outputLabel id="txDiasInc" value="#{solicitudIncapacidad.dias}" />
                        </td>
                    </tr>

                    <tr>                   
                        <td><i:etiquetaRequerido value="Tipo Planilla" styleClass="requerido" /></td>
                        <td>                
                            <h:selectOneMenu id="lstTipoPlanillaInc" style="height: 25px;padding-top: 3px;width: 200px;" label="Tipo Planilla" value="#{solicitudIncapacidad.tipoPlanilla}" >                       
                                <f:ajax render="lstPlanillaInc" event="change" execute="lstTipoPlanillaInc" />
                                <f:selectItem itemValue="-1" itemLabel="[SELECCIONE TIPO PLANILLA]" />
                                <f:selectItems value="#{solicitudIncapacidad.listaTipos}" var="tipo" itemValue="#{tipo.tiposPlanillaPK.codTipopla}" itemLabel="#{tipo.nomTipopla}"/>
                            </h:selectOneMenu>
                        </td>
                        <td></td>
                        <td><i:etiquetaRequerido value="Planilla" styleClass="requerido" /></td>
                        <td>
                            <h:selectOneMenu id="lstPlanillaInc" style="height: 25px;padding-top: 3px;" label="Planilla" value="#{solicitudIncapacidad.planilla}" >
                                <f:selectItem itemValue="-1" itemLabel="[SELECCIONE PLANILLA]" />
                                <f:selectItems value="#{solicitudIncapacidad.listaPlanillas}" var="pla" 
                                               itemValue="#{pla.pkAsString}" itemLabel="#{pla.anio} ------ #{pla.mes} ------ #{pla.numPlanilla}" />
                            </h:selectOneMenu>
                        </td>
                    </tr>
                    <tr><td></td><td></td><td></td><td></td><td>
                            <i:etiquetaPlanilla />
                        </td></tr>
                </table>

            </p:fieldset>
            <p:spacer height="15" />
            <ap:okCancelAccionPersonal okAction="#{solicitudIncapacidad.guardarSolicitud$action}" update="principalForm:mensajes,principalForm:tableSolicitud,principalForm:fldIncapacidad,principalForm:txtobservacionesInc" cancelAction="#{planilla$accionesPersonal.cancelar$action}" onCancelClose="#{planilla$accionesPersonal.urlPlantilla}" />

        </p:dialog>

        <d:dialogoEmpleados name="dlgEmpSolNombramientos"
                            title="Listado general de Empleados" selection="#{SessionBeanEMP.empleadoAccionPersonal}"
                            update="principalForm:mensajes,principalForm:fieldsetEncabezadoNom" image="/resources/imagenes/64/meeting-participant.png"
                            information="Seleccione un empleado para la solicitud"
                            okAction="#{planilla$accionesPersonal.seleccionarEmpleado}"
                            cancelAction="#{planilla$accionesPersonal.cancelSeleccionarEmpleado}"/> 
        <p:dialog id="dialogSolicitudNombramiento" widgetVar="dialogSolicitudNombramiento" header="#{planilla$accionesPersonal.accionSeleccionada != null ? planilla$accionesPersonal.accionSeleccionada.nomTipoaccion : 'Ninguna Acción Seleccionada'}" showEffect="fold" hideEffect="fold" width="770" height="550" >
            <p:spacer height="10px"/>
            <i:panelInformacion imagen="../../resources/imagenes/64/info.png" />
            <p:spacer height="10px"/>

            <p:fieldset id="fieldsetEncabezadoNom">
                <ap:encabezadoSolicitud dialogoEmpleados="dlgEmpSolNombramientos" />
                <table border="0" width="100%" cellpadding="3" >
                    <tr>
                        <td width="20%;"><h:outputLabel value="Observaci&oacute;n" style="font-weight: bold;" /></td>
                        <td colspan="3" width="80%;" ><p:inputTextarea id="txtobservacionesNom" style="width:100%;" value="#{solicitudNombramiento.observacion}" autoResize="false" /></td>
                    </tr>
                </table>
            </p:fieldset>

            <p:spacer height="10px"/>

            <p:fieldset id="fldNombramiento" >

                <table border="0" width="100%" >
                    <tr>
                        <td width="20%" ><i:etiquetaRequerido value="Departamento" styleClass="requerido" /></td>
                        <td>                            
                            <h:selectOneMenu style="height: 25px;padding-top: 3px;width: 250px;" value="#{solicitudNombramiento.departamento}" >
                                <f:selectItem itemValue="-1" itemLabel="[SELECCIONE UN DEPARTAMENTO]" />
                                <f:selectItems value="#{solicitudNombramiento.listaDepartamentos}" var="departamento" itemValue="#{departamento.departamentosPK.codDepto}" itemLabel="#{departamento.nomDepto}" />
                            </h:selectOneMenu>
                        </td>        
                    </tr>

                    <tr>
                        <td><i:etiquetaRequerido value="Puesto" styleClass="requerido" /></td>
                        <td>                            
                            <h:selectOneMenu style="height: 25px;padding-top: 3px;width: 250px;" value="#{solicitudNombramiento.puesto}" >
                                <f:selectItem itemValue="-1" itemLabel="[SELECCIONE UN PUESTO]" />
                                <f:selectItems value="#{solicitudNombramiento.listaPuestos}" var="puesto" itemValue="#{puesto.puestosPK.codPuesto}" itemLabel="#{puesto.nomPuesto}" />
                            </h:selectOneMenu>
                        </td>
                    </tr>

                    <tr>
                        <td><i:etiquetaRequerido value="Fecha inicial" styleClass="requerido" /></td>
                        <td>                            
                            <p:calendar id="nomFecFin" showOn="button" pattern="dd/MM/yyyy" value="#{solicitudNombramiento.fechaInicial}"  />
                        </td>

                    </tr>
                </table>

            </p:fieldset>
            <p:spacer height="15" />
            <ap:okCancelAccionPersonal okAction="#{solicitudNombramiento.guardarSolicitud$action}" update="principalForm:mensajes,principalForm:tableSolicitud,principalForm:fldNombramiento,principalForm:txtobservacionesNom" cancelAction="#{planilla$accionesPersonal.cancelar$action}" onCancelClose="#{planilla$accionesPersonal.urlPlantilla}" />

        </p:dialog>

        <p:dialog id="dialogSolicitudVacColectiva" widgetVar="dialogSolicitudVacColectiva" header="#{planilla$accionesPersonal.accionSeleccionada != null ? planilla$accionesPersonal.accionSeleccionada.nomTipoaccion : 'Ninguna Acción Seleccionada'}" showEffect="fold" hideEffect="fold" width="770" height="550" >
            <p:spacer height="10px"/>
            <i:panelInformacion imagen="../../resources/imagenes/64/info.png" />
            <p:spacer height="10px"/>

            <p:fieldset id="fieldsetEncabezadoVacCol">
                <table border="0" width="100%" >
                    <tr>
                        <td width="15%;"><h:outputLabel style="font-weight: bold;" value="Fecha de Solicitud"/></td>
                        <td width="85%;">
                            <h:outputLabel value="#{planilla$accionesPersonal.fecha}" >
                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                            </h:outputLabel>
                        </td>
                    </tr>
                    <tr>
                        <td width="15%;"><h:outputLabel style="font-weight: bold;" value="Observaci&oacute;n"/></td>
                        <td width="85%;"><p:inputTextarea id="txtobservacionesVacCol" style="width:100%;" value="#{solicitudVacacionColectiva.observacion}" autoResize="false" /></td>
                    </tr>
                </table>
            </p:fieldset>

            <p:spacer height="10px"/>

            <p:fieldset id="fldVacColectiva" >

                <table border="0" width="100%" >
                    <tr>
                        <td width="15%;" ><i:etiquetaRequerido value="Criterio a Aplicar" styleClass="requerido" /></td>
                        <td width="85%" >                            
                            <h:selectOneMenu id="lstCriterio" value="#{solicitudVacacionColectiva.criterioSeleccionado}" style="height: 25px;padding-top: 3px;width: 250px;" >
                                <f:selectItem itemValue="-1" itemLabel="[ SELECCIONE UN CRITERIO ]" />
                                <f:selectItem itemValue="departamentos"  itemLabel=" APLICAR POR DEPARTAMENTO " />
                                <f:selectItem itemValue="tipoPlanilla"  itemLabel=" APLICAR POR TIPO DE PLANILLA " />
                                <f:ajax event="change" execute="lstCriterio" listener="#{solicitudVacacionColectiva.limpiarFormaAplicar}" render="fldVacColectiva" />
                            </h:selectOneMenu>
                        </td>        
                    </tr>

                    <tr>
                        <td width="15%" ></td>
                        <td width="85%" >
                            <p:panel id="panelCriteriosDepartamento" style="border:none;" rendered="#{solicitudVacacionColectiva.criterioSeleccionado eq 'departamentos'}" >
                                <h:panelGrid columns="3">
                                    <h:outputLabel value="Departamento:" style="font-weight: bold;" />
                                    <h:selectOneMenu id="lstDeptosSolVacColDep" style="height: 25px;padding-top: 3px;width: 250px;" value="#{solicitudVacacionColectiva.departamento}" >
                                        <f:selectItem itemValue="-1" itemLabel="[SELECCIONE UN DEPARTAMENTO]" />
                                        <f:selectItems value="#{solicitudVacacionColectiva.listaDepartamentos}" var="departamento" itemValue="#{departamento.departamentosPK.codDepto}" itemLabel="#{departamento.nomDepto}" />
                                        <f:ajax event="change" execute="lstDeptosSolVacColDep" listener="#{solicitudVacacionColectiva.calcularAfectados}" render="afectadosDepartamento selectXDepartamento" />
                                    </h:selectOneMenu>
                                    <h:outputLabel value="" />

                                    <h:outputLabel value="Tipo Planilla:" style="font-weight: bold;" />
                                    <h:selectOneMenu id="lstTipoPlanillaSolVacColDep" style="height: 25px;padding-top: 3px;width: 250px;" label="Tipo Planilla" value="#{solicitudVacacionColectiva.tipoPlanillaAplicar}" >                       
                                        <f:ajax render="lstPlanillaTPDep" event="change" execute="lstTipoPlanillaSolVacColDep" />
                                        <f:selectItem itemValue="-1" itemLabel="[SELECCIONE TIPO PLANILLA]" />
                                        <f:selectItems value="#{solicitudVacacionColectiva.listaTipos}" var="tipo" itemValue="#{tipo.tiposPlanillaPK.codTipopla}" itemLabel="#{tipo.nomTipopla}"/>
                                        <f:ajax event="change" execute="lstTipoPlanillaSolVacColDep" listener="#{solicitudVacacionColectiva.calcularAfectados}" render="afectadosTipoPlanilla lstPlanillaTPDep" />
                                    </h:selectOneMenu>

                                    <h:panelGroup />
                                    <h:outputLabel value="Planilla" style="font-weight: bold;"/>
                                    <h:selectOneMenu id="lstPlanillaTPDep" style="height: 25px;padding-top: 3px;width: 250px;" label="Planilla" value="#{solicitudVacacionColectiva.planilla}" >
                                        <f:selectItem itemValue="-1" itemLabel="[SELECCIONE PLANILLA]" />
                                        <f:selectItems value="#{solicitudVacacionColectiva.listaPlanillas}" var="pla" 
                                                       itemValue="#{pla.pkAsString}" itemLabel="#{pla.anio} ------ #{pla.mes} ------ #{pla.numPlanilla}" />
                                    </h:selectOneMenu>
                                    <h:panelGroup />
                                    <h:outputLabel value="" />
                                    <i:etiquetaPlanilla />
                                    <h:outputLabel value="" />

                                    <h:outputLabel value="Total de afectados:" style="font-weight: bold;" />
                                    <h:panelGroup>
                                        <h:panelGrid columns="2">
                                            <h:outputLabel id="afectadosDepartamento" value="#{solicitudVacacionColectiva.valorAfectados} empleados." styleClass="#{solicitudVacacionColectiva.valorAfectados lt 1 ? 'afectadosMinimo' : 'afectadosMaximo' }" />
                                            <p:commandButton id="selectXDepartamento" value="Seleccionar" update="tableEmpleadosAfectar" action="#{solicitudVacacionColectiva.listarEmpleados}" image="beneficiarios" oncomplete="dialogoEmpleados.show();" />                                                                                
                                        </h:panelGrid>
                                    </h:panelGroup>

                                </h:panelGrid>
                            </p:panel>

                            <p:panel id="panelCriteriosTipoPlanilla" style="border:none;" rendered="#{solicitudVacacionColectiva.criterioSeleccionado eq 'tipoPlanilla'}" >
                                <h:panelGrid columns="3">

                                    <h:outputLabel value="Tipo Planilla:" style="font-weight: bold;" />
                                    <h:selectOneMenu id="lstTipoPlanillaSolVacCol" style="height: 25px;padding-top: 3px;width: 250px;" label="Tipo Planilla" value="#{solicitudVacacionColectiva.tipoPlanilla}" >                       
                                        <f:selectItem itemValue="-1" itemLabel="[SELECCIONE TIPO PLANILLA]" />
                                        <f:selectItems value="#{solicitudVacacionColectiva.listaTipos}" var="tipo" itemValue="#{tipo.tiposPlanillaPK.codTipopla}" itemLabel="#{tipo.nomTipopla}"/>
                                        <f:ajax event="change" execute="lstTipoPlanillaSolVacCol" listener="#{solicitudVacacionColectiva.calcularAfectados}" render="afectadosTipoPlanilla selectXTipoPlanilla lstPlanillaTP" />
                                    </h:selectOneMenu>
                                    <h:panelGroup />

                                    <h:outputLabel value="Tipo Planilla aplicar:" style="font-weight: bold;" />
                                    <h:selectOneMenu id="lstTipoPlanilla0SolVacCol" style="height: 25px;padding-top: 3px;width: 250px;" label="Tipo Planilla" value="#{solicitudVacacionColectiva.tipoPlanillaAplicar}" >                       
                                        <f:ajax render="lstPlanillaTP" event="change" execute="lstTipoPlanilla0SolVacCol" />
                                        <f:selectItem itemValue="-1" itemLabel="[SELECCIONE TIPO PLANILLA]" />
                                        <f:selectItems value="#{solicitudVacacionColectiva.listaTipos}" var="tipo" itemValue="#{tipo.tiposPlanillaPK.codTipopla}" itemLabel="#{tipo.nomTipopla}"/>                                        
                                    </h:selectOneMenu>
                                    <h:outputLabel value="" />

                                    <h:outputLabel value="Planilla" style="font-weight: bold;" />
                                    <h:selectOneMenu id="lstPlanillaTP" style="height: 25px;padding-top: 3px;width: 250px;" label="Planilla" value="#{solicitudVacacionColectiva.planilla}" >
                                        <f:selectItem itemValue="-1" itemLabel="[SELECCIONE PLANILLA]" />
                                        <f:selectItems value="#{solicitudVacacionColectiva.listaPlanillas}" var="pla" 
                                                       itemValue="#{pla.pkAsString}" itemLabel="#{pla.anio} ------ #{pla.mes} ------ #{pla.numPlanilla}" />
                                    </h:selectOneMenu>
                                    <h:outputLabel value="" /><h:outputLabel value="" /><i:etiquetaPlanilla />
                                    <h:outputLabel value="" />
                                    <h:outputLabel value="Total de empleados afectados:" style="font-weight: bold;" />
                                    <h:panelGroup>
                                        <h:panelGrid columns="2"> 
                                            <h:outputLabel id="afectadosTipoPlanilla" value="#{solicitudVacacionColectiva.valorAfectados} empleados." styleClass="#{solicitudVacacionColectiva.valorAfectados lt 1 ? 'afectadosMinimo' : 'afectadosMaximo' }" />
                                            <p:commandButton id="selectXTipoPlanilla" value="Seleccionar" update="tableEmpleadosAfectar" image="beneficiarios" action="#{solicitudVacacionColectiva.listarEmpleados}" oncomplete="dialogoEmpleados.show();" />
                                        </h:panelGrid>
                                    </h:panelGroup>
                                </h:panelGrid>

                            </p:panel>
                        </td>
                    </tr>

                </table>

            </p:fieldset>
            <p:spacer height="15" />
            <ap:okCancelAccionPersonal okAction="#{solicitudVacacionColectiva.guardarSolicitud$action}" update="principalForm:mensajes,principalForm:tableSolicitud,principalForm:fldVacColectiva,principalForm:txtobservacionesVacCol" cancelAction="#{planilla$accionesPersonal.cancelar$action}" onCancelClose="#{planilla$accionesPersonal.urlPlantilla}" />
        </p:dialog>

        <p:dialog id="dialogoEmpleados" widgetVar="dialogoEmpleados" header="Empleados" width="650" height="445"  resizable="true" showEffect="clip" hideEffect="clip" >  

            <h:panelGrid columns="2" >
                <p:graphicImage value="/resources/imagenes/64/evaluacion32x32.png" />   
                <h:outputLabel id="lbl1" value="Seleccione los empleados que desea incluir "  style="font-weight: bold;"/>
            </h:panelGrid>

            <p:dataTable id="tableEmpleadosAfectar" value="#{solicitudVacacionColectiva.listaEmpleadosAfectar}" var="empleado" 
                         paginator="true" rows="5"  emptyMessage="No se han encontrado Empleados." dynamic="true"  selection="#{solicitudVacacionColectiva.empleadosSeleccionados}"
                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" 
                         rowsPerPageTemplate="5,10,25,50,100" style="margin-top: 20px;" onRowSelectUpdate="principalForm:mensajes,tableEmpleadosAfectar,afectadosTipoPlanilla,afectadosDepartamento" onRowUnselectUpdate="principalForm:mensajes,tableEmpleadosAfectar,afectadosTipoPlanilla,afectadosDepartamento" >

                <f:facet name="header">
                    Empleados
                </f:facet>
                <p:column selectionMode="multiple" style="width:18px" /> 
                <p:column headerText="C&oacute;digo" >  
                    <h:outputLabel value="#{empleado.empleadosPK.codEmp}" />
                </p:column>  

                <p:column headerText="Nombre" filterBy="#{empleado.nombreCompleto}" filterMatchMode="contains" >  
                    <h:outputLabel value="#{empleado.nombreCompleto}" />
                </p:column>  

            </p:dataTable>
            <p:spacer height="15" />
            <h:panelGrid columns="2">
                <p:commandButton value="Aceptar" styleClass="opcionMenu" update="principalForm:mensajes,afectadosTipoPlanilla,afectadosDepartamento" oncomplete="dialogoEmpleados.hide()" action="#{solicitudVacacionColectiva.actualizarAfectados}" image="ui-icon-circle-check" /> 
            </h:panelGrid>
        </p:dialog>    

        <!-- Aumento de Sueldo -->
        <d:dialogoEmpleados name="dlgEmpSolAumentoSueldo" 
                            title="Listado general de Empleados" selection="#{SessionBeanEMP.empleadoAccionPersonal}"
                            update="principalForm:mensajes,principalForm:fieldsetEncabezadoAuSal,principalForm:lbSalario,principalForm:etiquetaSalario" image="/resources/imagenes/64/meeting-participant.png"
                            information="Seleccione un empleado para la solicitud"
                            okAction="#{planilla$accionesPersonal.seleccionarEmpleado}"
                            cancelAction="#{planilla$accionesPersonal.cancelSeleccionarEmpleado}"/> 

        <p:dialog id="dialogSolicitudAumentoSueldo" widgetVar="dialogSolicitudAumentoSueldo" header="#{planilla$accionesPersonal.accionSeleccionada != null ? planilla$accionesPersonal.accionSeleccionada.nomTipoaccion : 'Ninguna Acción Seleccionada'}" showEffect="fold" hideEffect="fold" width="770" height="550" >
            <p:spacer height="10px"/>
            <i:panelInformacion imagen="../../resources/imagenes/64/info.png" />
            <p:spacer height="10px"/>
            <p:fieldset id="fieldsetEncabezadoAuSal">
                <ap:encabezadoSolicitud dialogoEmpleados="dlgEmpSolAumentoSueldo" />
                <table border="0" width="100%" cellpadding="3" >
                    <tr>
                        <td width="20%;"><h:outputLabel value="Observaci&oacute;n" style="font-weight: bold;" /></td>
                        <td colspan="2" width="80%;" ><p:inputTextarea id="txtobservacionesAuSal" style="width:100%;" value="#{solicitudAumentoSueldo.observacion}" autoResize="false" /></td>
                    </tr>
                </table>
            </p:fieldset>

            <p:spacer height="10px"/>

            <p:fieldset id="fldAumentoSalario" >

                <table border="0" cellpadding="2" >

                    <tr>
                        <td><h:outputLabel value="Criterio:" style="font-weight: bold;" /></td>
                        <td>
                            <h:selectOneRadio id="chkFormaAumento" value="#{solicitudAumentoSueldo.formaAumento}" >
                                <f:selectItem itemValue="P" itemLabel="Aplicar porcentaje" />
                                <f:selectItem itemValue="V" itemLabel="Aplicar valor" />
                                <f:ajax event="change" render="etiquetaValor txValorCalculado lbValorCalculado" execute="chkFormaAumento"  />
                            </h:selectOneRadio>
                        </td>
                    </tr>

                    <tr>
                        <td>
                            <h:panelGrid columns="2" style="margin:0 0 0 -3px;padding:0;" >
                                <h:outputLabel id="etiquetaValor" value="#{solicitudAumentoSueldo.formaAumento eq 'V' ? 'Nuevo Sueldo: ': 'Porcentaje: '}" style="font-weight: bold;" />
                                <h:outputLabel value="*" styleClass="requerido"/>                                
                            </h:panelGrid>
                        </td>
                        <td>
                            <p:inputText value="#{solicitudAumentoSueldo.sueldoNuevo}" >
                                <p:ajax event="keyup" update="txValorCalculado" listener="#{solicitudAumentoSueldo.calculoSueldo}" /> 
                            </p:inputText>
                        </td>
                        <td></td>
                        <td><h:outputLabel id="lbValorCalculado" value="#{solicitudAumentoSueldo.formaAumento eq 'P' ? 'Nuevo Valor ': '' }" style="font-weight: bold;" /></td>
                        <td>
                            <h:outputLabel id="txValorCalculado" value="#{solicitudAumentoSueldo.formaAumento eq 'P' ? solicitudAumentoSueldo.porcentaje : '' }" >
                                <f:convertNumber maxFractionDigits="2"/>
                            </h:outputLabel>    
                        </td>                        
                        <td></td>
                    </tr>
                    <tr>
                        <td><h:outputLabel value="Sueldo Anterior " style="font-weight: bold;" /></td>

                        <td>
                            <h:outputLabel id="etiquetaSalario" value="#{SessionBeanADM.compania.monedas.signo} #{solicitudAumentoSueldo.empleadosToAccionPersonal.salario}" />
                        </td>
                    </tr>

                    <tr>
                        <td><i:etiquetaRequerido value="Fecha Inicial" styleClass="requerido" /></td>
                        <td>                            
                            <p:calendar id="auSalFecInicial" showOn="button" pattern="dd/MM/yyyy" value="#{solicitudAumentoSueldo.fechaInicial}"  />
                        </td>
                    </tr>

                    <tr>
                        <td><i:etiquetaRequerido value="Tipo Planilla" styleClass="requerido" /></td>
                        <td>
                            <h:selectOneMenu id="lstTipoPlanillaAuSal" style="height: 25px;padding-top: 3px;width: 250px;" label="Tipo Planilla" value="#{solicitudAumentoSueldo.tipoPlanilla}" >                       
                                <f:ajax render="lstPlanillaAuSal" event="change" execute="lstTipoPlanillaAuSal" />
                                <f:selectItem itemValue="-1" itemLabel="[SELECCIONE TIPO PLANILLA]" />
                                <f:selectItems value="#{solicitudAumentoSueldo.listaTipos}" var="tipo" itemValue="#{tipo.tiposPlanillaPK.codTipopla}" itemLabel="#{tipo.nomTipopla}"/>
                            </h:selectOneMenu>
                        </td>
                        <td></td>
                        <td><i:etiquetaRequerido value="Planilla" styleClass="requerido" /></td>
                        <td>
                            <h:selectOneMenu id="lstPlanillaAuSal" style="height: 25px;padding-top: 3px;width: 250px;" label="Planilla" value="#{solicitudAumentoSueldo.planilla}" >
                                <f:selectItem itemValue="-1" itemLabel="[SELECCIONE PLANILLA]" />
                                <f:selectItems value="#{solicitudAumentoSueldo.listaPlanillas}" var="pla" 
                                               itemValue="#{pla.pkAsString}" itemLabel="#{pla.anio} ------ #{pla.mes} ------ #{pla.numPlanilla}" />
                            </h:selectOneMenu>
                        </td>
                    </tr>
                    <tr>
                        <td></td><td></td><td></td><td></td>
                        <td>
                            <i:etiquetaPlanilla />
                        </td>
                    </tr>
                </table>

            </p:fieldset>
            <p:spacer height="15" />
            <ap:okCancelAccionPersonal okAction="#{solicitudAumentoSueldo.guardarSolicitud$action}" update="principalForm:mensajes,principalForm:tableSolicitud,principalForm:fldAumentoSalario,principalForm:txtobservacionesAuSal" cancelAction="#{planilla$accionesPersonal.cancelar$action}" onCancelClose="#{planilla$accionesPersonal.urlPlantilla}" />
        </p:dialog>

        <!-- Aumento de Sueldo Colectivo -->
        <p:dialog id="dialogSolAumSueldoColectivo" widgetVar="dialogSolAumSueldoColectivo" header="#{planilla$accionesPersonal.accionSeleccionada != null ? planilla$accionesPersonal.accionSeleccionada.nomTipoaccion : 'Ninguna Acción Seleccionada'}" showEffect="fold" hideEffect="fold" width="770" height="575" >
            <p:spacer height="10px"/>
            <i:panelInformacion imagen="../../resources/imagenes/64/info.png" />
            <p:spacer height="10px"/>

            <p:fieldset id="fieldsetEncabezadoAuSalCol">
                <table border="0" width="100%" cellpadding="3" >
                    <tr>
                        <td width="20%;" ><h:outputLabel value="Fecha de Solicitud" style="font-weight: bold;" /></td>
                        <td width="80%;">
                            <h:outputLabel value="#{planilla$accionesPersonal.fecha}" >
                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                            </h:outputLabel>
                        </td>
                    </tr>

                    <tr>
                        <td width="20%;"><h:outputLabel value="Observacion" style="font-weight: bold;" /></td>
                        <td colspan="3" width="80%;" ><p:inputTextarea id="txtobservacionesAuSalCol" style="width:100%;" value="#{solicitudAumentoSueldoColectivo.observacion}" /></td>
                    </tr>
                </table>
            </p:fieldset>

            <p:spacer height="5"/>

            <p:fieldset id="fldAumentoSalarioCol" >

                <table border="0" cellpadding="2" >
                    <tr>
                        <td width="15%" >
                            <i:etiquetaRequerido value="Criterio a Aplicar" styleClass="requerido" />
                        </td>

                        <td width="85%" colspan="5"  >                            
                            <h:selectOneMenu id="lstCriterioAumSalCol" value="#{solicitudAumentoSueldoColectivo.criterioSeleccionado}" style="height: 25px;padding-top: 3px;width: 250px;" >
                                <f:selectItem itemValue="-1" itemLabel="[ SELECCIONE UN CRITERIO ]" />
                                <f:selectItem itemValue="rangoSalario"  itemLabel=" APLICAR POR RANGOS DE SALARIO " />
                                <f:selectItem itemValue="departamentos"  itemLabel=" APLICAR POR DEPARTAMENTOS " />
                                <f:ajax event="change" execute="lstCriterioAumSalCol" listener="#{solicitudAumentoSueldoColectivo.limpiarFormaAplicar}" render="fldAumentoSalarioCol" />
                            </h:selectOneMenu>
                        </td>        
                    </tr>

                    <tr>
                        <td width="15%"  ></td>
                        <td>
                            <p:panel id="panelRangos" style="border:none;" rendered="#{solicitudAumentoSueldoColectivo.criterioSeleccionado eq 'rangoSalario' }" >
                                <table width="100%" border="0" >
                                    <tr>
                                        <td width="20%" ><i:etiquetaRequerido value="Valor Inicial #{SessionBeanADM.compania.monedas.signo} " styleClass="requerido" /></td>
                                        <td width="20%">
                                            <p:inputText style="width: 80px;" value="#{solicitudAumentoSueldoColectivo.salarioMinimo}"  >    
                                                <p:ajax event="blur" update="totalEmpleadosAfectadosSalCol,totalEmpleadosAfectadosSalColV" listener="#{solicitudAumentoSueldoColectivo.calcularEmpleados}" />  
                                            </p:inputText>
                                        </td>
                                        <td></td>
                                        <td width="20%"><i:etiquetaRequerido value="Valor Final #{SessionBeanADM.compania.monedas.signo} " styleClass="requerido" /></td>
                                        <td  width="40%" >
                                            <p:inputText style="width: 80px;" value="#{solicitudAumentoSueldoColectivo.salarioMaximo}" >
                                                <p:ajax event="blur" update="totalEmpleadosAfectadosSalCol,,totalEmpleadosAfectadosSalColV" listener="#{solicitudAumentoSueldoColectivo.calcularEmpleados}" />  
                                            </p:inputText>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td width="25%" ><h:outputLabel value="Criterio" style="font-weight: bold;" /></td>
                                        <td width="75%" colspan="4" >
                                            <h:selectOneRadio id="chkFormaAumentoSalCol" value="#{solicitudAumentoSueldoColectivo.formaAumento}" >
                                                <f:selectItem itemValue="V" itemLabel="Aplicar valor" />
                                                <f:selectItem itemValue="P" itemLabel="Aplicar porcentaje" />
                                                <f:ajax event="change" render="etiquetaValorSalCol lblPorcentaje" execute="chkFormaAumentoSalCol"  />
                                            </h:selectOneRadio>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td width="25%" >
                                            <h:panelGrid columns="2" style="margin:0 0 0 -3px;padding:0;" >
                                                <h:outputLabel id="etiquetaValorSalCol" value="#{solicitudAumentoSueldoColectivo.formaAumento eq 'V' ? 'Cantidad: ': 'Porcentaje: '}" style="font-weight: bold;" />
                                                <h:outputLabel value="*" styleClass="requerido"/>                                
                                            </h:panelGrid>
                                        </td>
                                        <td width="75%" colspan="4">
                                            <p:inputText value="#{solicitudAumentoSueldoColectivo.sueldoNuevo}" style="width: 80px;" />
                                            <h:outputLabel id="lblPorcentaje" value="#{solicitudAumentoSueldoColectivo.formaAumento eq 'P' ? '  %  ' : ''}" style="font-weight: bold;" />
                                        </td>                    
                                    </tr>
                                    <tr>
                                        <td width="25%" ><i:etiquetaRequerido value="Fecha inicial" styleClass="requerido" /></td>
                                        <td width="75%" colspan="4" >
                                            <p:calendar value="#{solicitudAumentoSueldoColectivo.fechaInicial}" showOn="button" />
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><i:etiquetaRequerido value="Tipo Planilla" styleClass="requerido" /></td>
                                        <td colspan="4" >
                                            <h:selectOneMenu id="lstTipoPlanillaRangoSal" style="height: 25px;padding-top: 3px;width: 250px;" label="Tipo Planilla" value="#{solicitudAumentoSueldoColectivo.tipoPlanilla}" >                       
                                                <f:ajax render="lstPlanillaRangoSal" event="change" execute="lstTipoPlanillaRangoSal" />
                                                <f:selectItem itemValue="-1" itemLabel="[SELECCIONE TIPO PLANILLA]" />
                                                <f:selectItems value="#{solicitudAumentoSueldoColectivo.listaTipos}" var="tipo" itemValue="#{tipo.tiposPlanillaPK.codTipopla}" itemLabel="#{tipo.nomTipopla}"/>
                                            </h:selectOneMenu>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><i:etiquetaRequerido value="Planilla" styleClass="requerido" /></td>
                                        <td colspan="4" >
                                            <h:selectOneMenu id="lstPlanillaRangoSal" style="height: 25px;padding-top: 3px;width: 250px;" label="Planilla" value="#{solicitudAumentoSueldoColectivo.planilla}" >
                                                <f:selectItem itemValue="-1" itemLabel="[SELECCIONE PLANILLA]" />
                                                <f:selectItems value="#{solicitudAumentoSueldoColectivo.listaPlanillas}" var="pla" 
                                                               itemValue="#{pla.pkAsString}" itemLabel="#{pla.anio} ------ #{pla.mes} ------ #{pla.numPlanilla}" />
                                            </h:selectOneMenu>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td></td>
                                        <td colspan="4" ><i:etiquetaPlanilla /></td>
                                    </tr>

                                    <tr>
                                        <td colspan="5" >
                                            <h:panelGrid columns="2">
                                                <h:outputLabel id="totalEmpleadosAfectadosSalCol"  value="Total de Empleados afectados: " />
                                                <h:outputLabel id="totalEmpleadosAfectadosSalColV"  value="#{solicitudAumentoSueldoColectivo.empleadosAfectados} " styleClass="#{solicitudAumentoSueldoColectivo.empleadosAfectados lt 1 ? 'afectadosMinimo' : 'afectadosMaximo' }" />
                                            </h:panelGrid>
                                        </td>
                                    </tr>

                                </table>

                            </p:panel>   

                            <p:panel id="panelDepartamentos" style="border:none;" rendered="#{solicitudAumentoSueldoColectivo.criterioSeleccionado eq 'departamentos' }" >

                                <table width="100%" >
                                    <tr>
                                        <td width="20%"><i:etiquetaRequerido value="Departamento" styleClass="requerido" /></td>
                                        <td width="80%">
                                            <h:selectOneMenu id="lstDeptosSolAumCol" style="height: 25px;padding-top: 3px;width: 250px;" value="#{solicitudAumentoSueldoColectivo.departamento}" >
                                                <f:selectItem itemValue="-1" itemLabel="[SELECCIONE UN DEPARTAMENTO]" />
                                                <f:selectItems value="#{solicitudVacacionColectiva.listaDepartamentos}" var="departamento" itemValue="#{departamento.departamentosPK.codDepto}" itemLabel="#{departamento.nomDepto}" />
                                                <f:ajax event="change" execute="lstDeptosSolAumCol" listener="#{solicitudAumentoSueldoColectivo.calcularAfectador}" render="totalEmpleadosAfectadosSalColDep totalEmpleadosAfectadosSalColVDep" />
                                            </h:selectOneMenu>   
                                        </td>

                                    </tr>

                                    <tr>
                                        <td width="25%" ><h:outputLabel value="Criterio" style="font-weight: bold;" /></td>
                                        <td width="75%" colspan="4" >
                                            <h:selectOneRadio id="chkFormaAumentoSalColDep" value="#{solicitudAumentoSueldoColectivo.formaAumento}" >
                                                <f:selectItem itemValue="V" itemLabel="Aplicar valor" />
                                                <f:selectItem itemValue="P" itemLabel="Aplicar porcentaje" />
                                                <f:ajax event="change" render="etiquetaValorSalColDep lblPorcentajeDep" execute="chkFormaAumentoSalColDep"  />
                                            </h:selectOneRadio>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td width="25%" >
                                            <h:panelGrid columns="2" style="margin:0 0 0 -3px;padding:0;" >
                                                <h:outputLabel id="etiquetaValorSalColDep" value="#{solicitudAumentoSueldoColectivo.formaAumento eq 'V' ? 'Cantidad: ': 'Porcentaje: '}" style="font-weight: bold;" />
                                                <h:outputLabel value="*" styleClass="requerido"/>                                
                                            </h:panelGrid>
                                        </td>
                                        <td width="75%" colspan="4">
                                            <p:inputText value="#{solicitudAumentoSueldoColectivo.sueldoNuevo}" style="width: 80px;" />
                                            <h:outputLabel id="lblPorcentajeDep" value="#{solicitudAumentoSueldoColectivo.formaAumento eq 'P' ? '  %  ' : ''}" style="font-weight: bold;" />
                                        </td>                    
                                    </tr>
                                    <tr>
                                        <td width="25%" ><i:etiquetaRequerido value="Fecha inicial" styleClass="requerido" /></td>
                                        <td width="75%" colspan="4" >
                                            <p:calendar value="#{solicitudAumentoSueldoColectivo.fechaInicial}" showOn="button" />
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><i:etiquetaRequerido value="Tipo Planilla" styleClass="requerido" /></td>
                                        <td>
                                            <h:selectOneMenu id="lstTipoPlanillaSalColDep" style="height: 25px;padding-top: 3px;width: 250px;" label="Tipo Planilla" value="#{solicitudAumentoSueldoColectivo.tipoPlanilla}" >                       
                                                <f:ajax render="lstPlanillaSalColDep" event="change" execute="lstTipoPlanillaSalColDep" />
                                                <f:selectItem itemValue="-1" itemLabel="[SELECCIONE TIPO PLANILLA]" />
                                                <f:selectItems value="#{solicitudAumentoSueldoColectivo.listaTipos}" var="tipo" itemValue="#{tipo.tiposPlanillaPK.codTipopla}" itemLabel="#{tipo.nomTipopla}"/>
                                            </h:selectOneMenu>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><i:etiquetaRequerido value="Planilla" styleClass="requerido" /></td>
                                        <td>
                                            <h:selectOneMenu id="lstPlanillaSalColDep" style="height: 25px;padding-top: 3px;width: 250px;" label="Planilla" value="#{solicitudAumentoSueldoColectivo.planilla}" >
                                                <f:selectItem itemValue="-1" itemLabel="[SELECCIONE PLANILLA]" />
                                                <f:selectItems value="#{solicitudAumentoSueldoColectivo.listaPlanillas}" var="pla" 
                                                               itemValue="#{pla.pkAsString}" itemLabel="#{pla.anio} ------ #{pla.mes} ------ #{pla.numPlanilla}" />
                                            </h:selectOneMenu>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td><i:etiquetaPlanilla /></td>
                                    </tr>
                                    <tr>
                                        <td colspan="5" >
                                            <h:panelGrid columns="2">
                                                <h:outputLabel id="totalEmpleadosAfectadosSalColDep"  value="Total de Empleados afectados: " />
                                                <h:outputLabel id="totalEmpleadosAfectadosSalColVDep"  value="#{solicitudAumentoSueldoColectivo.empleadosAfectados} " styleClass="#{solicitudAumentoSueldoColectivo.empleadosAfectados lt 1 ? 'afectadosMinimo' : 'afectadosMaximo' }" />
                                            </h:panelGrid>
                                        </td>
                                    </tr>

                                </table>
                            </p:panel>   
                        </td>
                    </tr>
                </table>
            </p:fieldset>

            <p:spacer height="15" />
            <ap:okCancelAccionPersonal okAction="#{solicitudAumentoSueldoColectivo.guardarSolicitud$action}" update="principalForm:mensajes,principalForm:tableSolicitud,principalForm:fldAumentoSalarioCol,principalForm:txtobservacionesAuSalCol" cancelAction="#{planilla$accionesPersonal.cancelar$action}" onCancelClose="#{planilla$accionesPersonal.urlPlantilla}" />

        </p:dialog>

        <!-- Solicitud de Retiro  -->
        <d:dialogoEmpleados name="dlgEmpSolRetiro" 
                            title="Listado general de Empleados" selection="#{SessionBeanEMP.empleadoAccionPersonal}"
                            update="principalForm:mensajes,principalForm:fieldsetEncabezadoRetiro" image="/resources/imagenes/64/meeting-participant.png"
                            information="Seleccione un empleado para la solicitud"
                            okAction="#{planilla$accionesPersonal.seleccionarEmpleado}"
                            cancelAction="#{planilla$accionesPersonal.cancelSeleccionarEmpleado}"/> 

        <p:dialog id="dialogSolicitudRetiro" widgetVar="dialogSolicitudRetiro" header="#{planilla$accionesPersonal.accionSeleccionada != null ? planilla$accionesPersonal.accionSeleccionada.nomTipoaccion : 'Ninguna Acción Seleccionada'}" showEffect="fold" hideEffect="fold" width="770" height="550" >
            <p:spacer height="10px"/>
            <i:panelInformacion imagen="../../resources/imagenes/64/info.png" />
            <p:spacer height="10px"/>

            <p:fieldset id="fieldsetEncabezadoRetiro">
                <ap:encabezadoSolicitud dialogoEmpleados="dlgEmpSolRetiro" />
                <table border="0" width="100%" cellpadding="3" >
                    <tr>
                        <td width="20%;"><h:outputLabel value="Observaci&oacute;n" style="font-weight: bold;" /></td>
                        <td colspan="3" width="80%;" ><p:inputTextarea id="txtobservacionesRetiro" style="width:100%;" value="#{solicitudRetiro.observacion}" autoResize="false" /></td>
                    </tr>
                </table>
            </p:fieldset>

            <p:spacer height="10px"/>

            <p:fieldset id="fldRetiro" >

                <table border="0"  >
                    <tr>
                        <td><i:etiquetaRequerido value="Fecha Retiro" styleClass="requerido" /></td>
                        <td>                            
                            <p:calendar id="fecRetiro" showOn="button" pattern="dd/MM/yyyy" value="#{solicitudRetiro.fechaRetiro}"  />
                        </td>
                    </tr>

                    <tr>
                        <td><i:etiquetaRequerido value="Tipo Accion" styleClass="requerido" /></td>
                        <td>                            
                            <h:selectOneMenu id="lstTipoAccionRenuncia" value="#{solicitudRetiro.accion}" style="height: 25px;padding-top: 3px;width: 250px;" >
                                <f:selectItem itemValue="-1" itemLabel="[ SELECCIONE UN TIPO ACCION ]" />
                                <f:selectItems value="#{solicitudRetiro.listaTipoAccion}" var="accion" itemLabel="#{accion.nomTipoaccion}" itemValue="#{accion.tipoAccionPK.codTipoaccion}" />
                            </h:selectOneMenu>
                        </td>
                    </tr>

                    <tr>
                        <td><i:etiquetaRequerido value="Motivo" styleClass="requerido" /></td>
                        <td>                            
                            <h:selectOneMenu id="lstMotivoRenuncia" value="#{solicitudRetiro.tipoRenuncia}" style="height: 25px;padding-top: 3px;width: 250px;" >
                                <f:selectItem itemValue="-1" itemLabel="[ SELECCIONE UN MOTIVO ]" />
                                <f:selectItems value="#{solicitudRetiro.listaCausasRenuncia}" var="motivo" itemLabel="#{motivo.descripcion}" itemValue="#{motivo.causasRenunciaPK.codTiporenuncia}" />
                            </h:selectOneMenu>
                        </td>
                    </tr>

                    <tr>
                        <td><i:etiquetaRequerido value="Tipo Planilla" styleClass="requerido" /></td>
                        <td>                            
                            <h:selectOneMenu id="lstTipoPlanillaRetiro" style="height: 25px;padding-top: 3px;width: 250px;" label="Tipo Planilla" value="#{solicitudRetiro.tipoPlanilla}" >                       
                                <f:selectItem itemValue="-1" itemLabel="[SELECCIONE TIPO PLANILLA]" />
                                <f:selectItems value="#{solicitudRetiro.listaTipos}" var="tipo" itemValue="#{tipo.tiposPlanillaPK.codTipopla}" itemLabel="#{tipo.nomTipopla}"/>
                            </h:selectOneMenu>
                        </td>
                    </tr>

                </table>

            </p:fieldset>
            <p:spacer height="15" />
            <ap:okCancelAccionPersonal okAction="#{solicitudRetiro.guardarSolicitud$action}" update="principalForm:mensajes,principalForm:tableSolicitud,principalForm:fldRetiro,principalForm:txtobservacionesRetiro" cancelAction="#{planilla$accionesPersonal.cancelar$action}" onCancelClose="#{planilla$accionesPersonal.urlPlantilla}" />
        </p:dialog>

        <!-- Solicitud No Afecta Planilla -->
        <d:dialogoEmpleados name="dlgEmpSolNoAfecta" 
                            title="Listado general de Empleados" selection="#{SessionBeanEMP.empleadoAccionPersonal}"
                            update="principalForm:mensajes,principalForm:fieldsetEncabezadoNA" image="/resources/imagenes/64/meeting-participant.png"
                            information="Seleccione un empleado para la solicitud"
                            okAction="#{planilla$accionesPersonal.seleccionarEmpleado}"
                            cancelAction="#{planilla$accionesPersonal.cancelSeleccionarEmpleado}"/> 

        <p:dialog id="dialogSolicitudNA" widgetVar="dialogSolicitudNA" header="#{planilla$accionesPersonal.accionSeleccionada != null ? planilla$accionesPersonal.accionSeleccionada.nomTipoaccion : 'Ninguna Acción Seleccionada'}" showEffect="fold" hideEffect="fold" width="770" height="550" >
            <p:spacer height="10px"/>
            <i:panelInformacion imagen="../../resources/imagenes/64/info.png" />
            <p:spacer height="10px"/>

            <p:fieldset id="fieldsetEncabezadoNA">
                <ap:encabezadoSolicitud dialogoEmpleados="dlgEmpSolNoAfecta" />
                <table border="0" width="100%" cellpadding="3" >
                    <tr>
                        <td width="20%;"><h:outputLabel value="Observaci&oacute;n" style="font-weight: bold;" /></td>
                        <td colspan="3" width="80%;" ><p:inputTextarea id="txtobservacionesNA" style="width:100%;" value="#{solicitudNoAfectaPlanilla.observacion}" autoResize="false" /></td>
                    </tr>
                </table>
            </p:fieldset>

            <p:spacer height="10px"/>

            <p:fieldset id="fldNoAfectaPlanilla" >

                <table border="0"  >
                    <tr>
                        <td><i:etiquetaRequerido value="Tipo de Acci&oacute;n" styleClass="requerido" /></td>
                        <td>                            
                            <h:selectOneMenu style="height: 25px;padding-top: 3px;width: 250px;" value="#{solicitudNoAfectaPlanilla.tipoAccionSeleccionada}" >
                                <f:selectItem itemValue="-1" itemLabel="[ SELECCIONE UN TIPO DE ACCI&Oacute;N ]" />
                                <f:selectItems value="#{solicitudNoAfectaPlanilla.listaTipoAccionNoAfecta}" var="tipoAccion" itemValue="#{tipoAccion.tipoAccionPK.codTipoaccion}" itemLabel="#{tipoAccion.nomTipoaccion}" />
                            </h:selectOneMenu>
                        </td>        
                    </tr>

                    <tr>
                        <td>
                            <h:panelGrid columns="2" style="margin:0 0 0 -3px;padding:0;" >
                                <h:outputLabel value="Fecha inicial"/>                      
                            </h:panelGrid>
                        </td>

                        <td>                            
                            <p:calendar id="fecInicialNA" showOn="button" pattern="dd/MM/yyyy" value="#{solicitudNoAfectaPlanilla.fechaInicial}"  />
                        </td>

                        <td>
                            <h:panelGrid columns="2" style="margin:0 0 0 -3px;padding:0;" >
                                <h:outputLabel value="Fecha Final"/>
                            </h:panelGrid>
                        </td>

                        <td>                            
                            <p:calendar id="fecFinalNA" showOn="button" pattern="dd/MM/yyyy" value="#{solicitudNoAfectaPlanilla.fechaFinal}"  />
                        </td>
                    </tr>
                </table>

            </p:fieldset>
            <p:spacer height="15" />
            <ap:okCancelAccionPersonal okAction="#{solicitudNoAfectaPlanilla.guardarSolicitud$action}" update="principalForm:mensajes,principalForm:tableSolicitud,principalForm:fldNoAfectaPlanilla,principalForm:txtobservacionesNA" cancelAction="#{planilla$accionesPersonal.cancelar$action}" onCancelClose="#{planilla$accionesPersonal.urlPlantilla}" />
        </p:dialog>

        <d:dialogoEmpleados name="dlgSolConstancia" 
                            title="Listado general de Empleados" selection="#{SessionBeanEMP.empleadoAccionPersonal}"
                            update="principalForm:mensajes,principalForm:fieldsetEncabezadoSC" image="/resources/imagenes/64/meeting-participant.png"
                            information="Seleccione un empleado para la solicitud"
                            okAction="#{planilla$accionesPersonal.seleccionarEmpleado}"
                            cancelAction="#{planilla$accionesPersonal.cancelSeleccionarEmpleado}"/> 

        <p:dialog id="dialogSolicitudConstancia" widgetVar="dialogSolicitudConstancia" header="#{planilla$accionesPersonal.accionSeleccionada != null ? planilla$accionesPersonal.accionSeleccionada.nomTipoaccion : 'Ninguna Acción Seleccionada'}" showEffect="fold" hideEffect="fold" width="770" height="550" >
            <p:spacer height="10px"/>
            <i:panelInformacion imagen="../../resources/imagenes/64/info.png" />
            <p:spacer height="10px"/>

            <p:fieldset id="fieldsetEncabezadoSC">
                <ap:encabezadoSolicitud dialogoEmpleados="dlgSolConstancia" />
                <table border="0" width="100%" cellpadding="3" >
                    <tr>
                        <td width="20%;"><h:outputLabel value="Observaci&oacute;n" style="font-weight: bold;" /></td>
                        <td colspan="3" width="80%;" ><p:inputTextarea id="txtobservacionesSC" style="width:100%;" value="#{solicitudConstanciaSueldo.observacion}" autoResize="false" /></td>
                    </tr>
                </table>
            </p:fieldset>

            <p:spacer height="10px"/>

            <ap:okCancelAccionPersonal okAction="#{solicitudConstanciaSueldo.guardarSolicitud$action}" update="principalForm:mensajes,principalForm:tableSolicitud,principalForm:fieldsetEncabezadoSC,principalForm:txtobservacionesSC" cancelAction="#{planilla$accionesPersonal.cancelar$action}" onCancelClose="#{planilla$accionesPersonal.urlPlantilla}" />
        </p:dialog>

        <d:dialogoEmpleados name="dlgEmpleadosDiaVacacion"
                            title="Listado general de Empleados" selection="#{SessionBeanEMP.empleadoAccionPersonal}"
                            update="principalForm:mensajes,principalForm:fieldsetEncabezadoDiaVacacion,fldDiaVacacion" image="/resources/imagenes/64/meeting-participant.png"
                            information="Seleccione un empleado para la solicitud"
                            okAction="#{planilla$accionesPersonal.seleccionarEmpleado}"
                            cancelAction="#{planilla$accionesPersonal.cancelSeleccionarEmpleado}"/>        

        <p:dialog id="dialogSolicitudDiaVacacion" widgetVar="dialogSolicitudDiaVacacion" header="#{planilla$accionesPersonal.accionSeleccionada != null ? planilla$accionesPersonal.accionSeleccionada.nomTipoaccion : 'Ninguna Acción Seleccionada'}" showEffect="fold" hideEffect="fold" width="745" height="550" >
            <p:spacer height="10px"/>
            <i:panelInformacion imagen="../../resources/imagenes/64/info.png" />
            <p:spacer height="10px"/>
            <p:fieldset id="fieldsetEncabezadoDiaVacacion">
                <ap:encabezadoSolicitud dialogoEmpleados="dlgEmpleadosDiaVacacion" />
                <table border="0" width="100%" >
                    <tr>
                        <td width="20%;" ><h:outputLabel value="Observaci&oacute;n" style="font-weight: bold;" /></td>
                        <td colspan="3" ><p:inputTextarea id="txtobservacionesDVAC" style="width:100%;" value="#{solicitudDiaDeVacacion.observacion}" autoResize="false" /></td>
                    </tr>
                </table>
            </p:fieldset>

            <p:spacer height="10px"/>

            <p:fieldset id="fldDiaVacacion" >

                <table border="0" width="100%" >
                    <tr>
                        <td><i:etiquetaRequerido value="Fecha inicio" styleClass="requerido" /></td>
                        <td><p:calendar id="dvFecInicial" showOn="button" pattern="dd/MM/yyyy" value="#{solicitudDiaDeVacacion.fechaInicial}" selectListener="#{solicitudDiaDeVacacion.handleFechaInicial}" onSelectUpdate="dvtxtDias" /></td>
                    </tr>
                    <tr>
                        <td><i:etiquetaRequerido value="Fecha fin" styleClass="requerido" /></td>
                        <td><p:calendar id="dvFecFinal" showOn="button" pattern="dd/MM/yyyy" value="#{solicitudDiaDeVacacion.fechaFinal}" selectListener="#{solicitudDiaDeVacacion.handleFechaFinal}" onSelectUpdate="dvtxtDias"/>
                        </td>
                    </tr>
                    <tr>
                        <td><h:outputLabel value="Dias"/></td>
                        <td><h:outputLabel id="dvtxtDias"  value="#{solicitudDiaDeVacacion.dias}" /></td>
                    </tr>
                </table>

            </p:fieldset>
            <p:spacer height="15" />
            <ap:okCancelAccionPersonal okAction="#{solicitudDiaDeVacacion.guardarSolicitud$action}" update="principalForm:mensajes,principalForm:tableSolicitud,principalForm:fldDiaVacacion,principalForm:txtobservacionesDVAC" cancelAction="#{planilla$accionesPersonal.cancelar$action}" onCancelClose="#{planilla$accionesPersonal.urlPlantilla}" />

        </p:dialog>

    </ui:define>

</ui:composition>
<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="/plantillas/defaultTemplate.xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.prime.com.tr/ui"
                xmlns:f="http://java.sun.com/jsf/core">

    <ui:define name="titulo">Preseleccion de candidatos</ui:define>
    <ui:define name="acciones"/>
    <ui:define name="contenido">
        <h:form id="seleccionEvaluacionForm" prependId="true">
            <p:panel header="Evaluaciones">
                <h:panelGrid columns="2">
                    <h:outputText value="Campaña"/>
                    <h:selectOneMenu style="width: 350px;">
                        <f:selectItems value="#{empleados$seleccionEvaluacion.listaCampanias}" var="campania" itemValue="#{campania.campaniaPK.codCampania}" itemLabel="#{campania.nomCampania}" />
                    </h:selectOneMenu>
                    <h:outputText value="Tipo de evaluación"/>
                    <h:selectOneMenu style="width: 350px;">
                        <f:selectItems value="#{empleados$seleccionEvaluacion.listaTiposEvaluacion}" var="tipoEvaluacion" itemValue="#{tipoEvaluacion.tipoEvaluacionPK.codTipoEvaluacion}" itemLabel="#{tipoEvaluacion.nomTipoEvaluacion}" />
                    </h:selectOneMenu>
                    <h:outputText value="Plantilla"/>
                    <h:selectOneMenu style="width: 350px;">
                        <f:selectItems value="#{empleados$seleccionEvaluacion.listaPlantillas}" var="plantilla" itemValue="#{plantilla.plantillaPK.codPlantilla}" itemLabel="#{plantilla.nomPlantilla}"/>
                    </h:selectOneMenu>
                </h:panelGrid>
                <f:facet name="footer">
                    <p:commandButton value="Mostrar empleados" image="mostrarEmpleados" action="#{empleados$seleccionEvaluacion.mostrarEmpleados()}" update="statusForm:status, seleccionEvaluacionForm:tablaEmpleados"/>
                </f:facet>
            </p:panel>
            <p:spacer height="10"/>
            <p:panel header="Empleados">
                <p:dataTable id="tablaEmpleados" value="#{empleados$seleccionEvaluacion.listaEmpleados}" selectionMode="single" var="empleado" rows="5" paginator="true" paginatorAlwaysVisible="true" update="statusForm:status, seleccionEvaluacionForm:tablaEmpleados">
                    <p:column headerText="ID" filterBy="#{empleado.empleadoPK.codEmp}">
                        <h:outputText value="#{empleado.empleadoPK.codEmp}"/>
                    </p:column>
                    <p:column headerText="Nombre" filterBy="#{empleado.nombres} #{empleado.apellidos}" filterMatchMode="contains">
                        <h:outputText value="#{empleado.nombres} #{empleado.apellidos}"/>
                    </p:column>
                </p:dataTable>
                <f:facet name="footer">
                    <p:commandButton value="Evaluar empleado" image="evaluar" update="statusForm:status"/>
                    <p:spacer width="10"/>
                    <p:commandButton value="Cancelar" image="cancelar" update="statusForm:status"/>
                </f:facet>
            </p:panel>
        </h:form>
    </ui:define>
</ui:composition>